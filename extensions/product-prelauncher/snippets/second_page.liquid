<div class="section-layout {{ block.settings.layout}}">
  <div class="announcement">{{ block.settings.announcement_text }}</div>
  {% case block.settings.layout %}
    {% comment %}Start of Horizontal layout{% endcomment %}
    {% when 'horizontal' %}
    <div id='second-background-image' class="img-layout full">
      <div class="preheader_text">{{ block.settings.preheader_text }}</div>
      <div class="header_text">{{ block.settings.header_text }}</div>
      <div class="subheader_text">{{ block.settings.subheader_text }}</div>

      <div id="referral-link" class="refferal-container">
        <input
          id="code"
          disabled
          type="text"
          value="3245hjkjhgfdsfghgffd"
          class="referral-link-inp" />
        <button class="copy-link-btn" onclick="copyToClipboard()">Copy Link</button>
        <div id="snackbar">Copied to clipboard</div>
        <script>
          function copyToClipboard() {
            var copyCode = document.getElementById("code");
            copyCode.select();
            copyCode.setSelectionRange(0, 99999);
            navigator.clipboard.writeText(copyCode.value);
            var x = document.getElementById("snackbar");
            x.className = "show";
            setTimeout(function() {
              x.className = x.className.replace("show", "");
            }, 2000);
          }
        </script>
      </div>

      <div class="socials">
        {% comment %} Email {% endcomment %}
        <a class="email" target="_blank">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z" />
          </svg>
        </a>
        {% comment %} Facebook {% endcomment %}
        <a
          class="facebook"
          target="_blank"
          onclick="copyMessage()">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z" /></svg>
        </a>
      </div>
    </div>
    <div class="gift-layout full">
      <div class="some-text">0 friends have joined! Invite friends to Join</div>
      <div class="timeline-group">
        <div class="timeline-headers">
          <div>Friends Joined</div>
          <div>Rewards</div>
        </div>
        <div class="timeline">
          <div class="timeline-progress">&nbsp;</div>
          <div class="timeline-items">
            {% assign products = block.settings.product_list %}
            {% for p in products %}
              <div class="timeline-item-block">
                <div
                  class="timeline-item"
                  onmouseenter="mouseenter(this)"
                  onmouseleave="mouseleave(this)">6<div class="timeline-item-detail" style="display: none;">Invite 6 friends to unlock this reward!</div>
                </div>
                <div
                  class="timeline-item-name"
                  onmouseenter="mouseenterproduct(this)"
                  onmouseleave="mouseleaveproduct(this)">{{ block.settings.icon | image_url: width: 50 | image_tag }}
                  <div class="timeline-contain" style="display: none;">
                    <span>{{ p.title }}</span>
                    <span>{{ p.featured_image | image_url: width: 50 | image_tag }}</span>
                  </div>
                </div>
              </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>

    {% comment %}End of Horizontal layout{% endcomment %}
    {% comment %}Start of Vertical layout{% endcomment %}
    {% when 'vertical' %}
    <div id='second-background-image' class="img-layout half">
      <div class="hidden">this div is hidden</div>
    </div>
    <div class="gift-layout half spaced-evenly">
      <div class="vertical spaced">
        <div class="preheader_text">{{ block.settings.preheader_text }}</div>
        <div class="header_text">{{ block.settings.header_text }}</div>
        <div class="subheader_text">{{ block.settings.subheader_text }}</div>
        <div id="referral-link"></div>
        <div class="socials"></div>
      </div>
      <div class="spaced some-text">0 friends have joined! Invite friends to Join</div>
      <div class="vertical-timeline-headers">
        <div>Friends Joined</div>
        <div>Rewards</div>
      </div>

      <div class="spaced vertical-timeline">
        <div class="vertical-timeline-progress">&nbsp;</div>
        <div class="vertical-timeline-items">
          {% assign products = block.settings.product_list %}
          {% for p in products %}
            <div>
              <div class="vertical-timeline-item-block">
                <div
                  class="vertical-timeline-item"
                  onmouseenter="mouseenter(this)"
                  onmouseleave="mouseleave(this)">6
                  <div class="vertical-timeline-item-detail" style="display: none;">Invite 6 friends to unlock this reward!</div>
                </div>
                <div
                  class="vertical-timeline-item-name"
                  onmouseenter="mouseenterproduct(this)"
                  onmouseleave="mouseleaveproduct(this)">{{ block.settings.icon | image_url: width: 50 | image_tag }}
                  <div class="vertical-timeline-contain" style="display: none;">
                    <span>{{ p.title }}</span>
                    <span>{{ p.featured_image | image_url: width: 50 | image_tag }}</span>
                  </div>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
    </div>

  {% endcase %}
  <div class="footer_text {% if block.settings.layout == 'vertical' %}right-side{% endif %}">
    {{ block.settings.footer_text }}</div>
</div>

<script>
  let link = encodeURI(window.location.href);
  let subject = 'Subject';
  let message = 'Hello there!';
  subject = encodeURIComponent(subject);
  encodedMessage = encodeURIComponent(message);
  const email = document.querySelector('.email');
  email.href = `mailto:?&subject=${'subject of email'}&body=${encodedMessage}`;

  function copyMessage() {
    let text = 'hi there this is to be copied...';
    navigator.clipboard.writeText(text);
    setTimeout(() => {
      const fb = document.querySelector('.facebook');
      fb.href = 'https://www.facebook.com/';
    }, 500)
  }
</script>