<div class="section-layout {{ block.settings.layout}}">
  <div class="announcement">{{ block.settings.announcement_text }}</div>
  {% case block.settings.layout %}
    {% comment %}Start of Horizontal layout{% endcomment %}
    {% when 'horizontal' %}
    <div id='second-background-image' class="img-layout full">
      <div class="preheader_text">{{ block.settings.preheader_text }}</div>
      <div class="header_text">{{ block.settings.header_text }}</div>
      <div class="subheader_text">{{ block.settings.subheader_text }}</div>

      <div id="referral-link" class="refferal-container">
        <input
          id="code"
          disabled
          type="text"
          value="3245hjkjhgfdsfghgffd"
          class="referral-link-inp" />
        <button class="copy-link-btn" onclick="copyToClipboard()">Copy Link</button>
        <div id="snackbar">Copied to clipboard</div>
        <script>
          function copyToClipboard() {
            var copyCode = document.getElementById("code");
            copyCode.select();
            copyCode.setSelectionRange(0, 99999);
            navigator.clipboard.writeText(copyCode.value);
            var x = document.getElementById("snackbar");
            x.className = "show";
            setTimeout(function() {
              x.className = x.className.replace("show", "");
            }, 2000);
          }
        </script>
      </div>

      <div class="socials">
        {% comment %} Snapchat {% endcomment %}
        <a
          class="snapchat"
          target="_blank"
          onclick="copyMessage()">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M496.926,366.6c-3.373-9.176-9.8-14.086-17.112-18.153-1.376-.806-2.641-1.451-3.72-1.947-2.182-1.128-4.414-2.22-6.634-3.373-22.8-12.09-40.609-27.341-52.959-45.42a102.889,102.889,0,0,1-9.089-16.12c-1.054-3.013-1-4.724-.248-6.287a10.221,10.221,0,0,1,2.914-3.038c3.918-2.591,7.96-5.22,10.7-6.993,4.885-3.162,8.754-5.667,11.246-7.44,9.362-6.547,15.909-13.5,20-21.278a42.371,42.371,0,0,0,2.1-35.191c-6.2-16.318-21.613-26.449-40.287-26.449a55.543,55.543,0,0,0-11.718,1.24c-1.029.224-2.059.459-3.063.72.174-11.16-.074-22.94-1.066-34.534-3.522-40.758-17.794-62.123-32.674-79.16A130.167,130.167,0,0,0,332.1,36.443C309.515,23.547,283.91,17,256,17S202.6,23.547,180,36.443a129.735,129.735,0,0,0-33.281,26.783c-14.88,17.038-29.152,38.44-32.673,79.161-.992,11.594-1.24,23.435-1.079,34.533-1-.26-2.021-.5-3.051-.719a55.461,55.461,0,0,0-11.717-1.24c-18.687,0-34.125,10.131-40.3,26.449a42.423,42.423,0,0,0,2.046,35.228c4.105,7.774,10.652,14.731,20.014,21.278,2.48,1.736,6.361,4.24,11.246,7.44,2.641,1.711,6.5,4.216,10.28,6.72a11.054,11.054,0,0,1,3.3,3.311c.794,1.624.818,3.373-.36,6.6a102.02,102.02,0,0,1-8.94,15.785c-12.077,17.669-29.363,32.648-51.434,44.639C32.355,348.608,20.2,352.75,15.069,366.7c-3.868,10.528-1.339,22.506,8.494,32.6a49.137,49.137,0,0,0,12.4,9.387,134.337,134.337,0,0,0,30.342,12.139,20.024,20.024,0,0,1,6.126,2.741c3.583,3.137,3.075,7.861,7.849,14.78a34.468,34.468,0,0,0,8.977,9.127c10.019,6.919,21.278,7.353,33.207,7.811,10.776.41,22.989.881,36.939,5.481,5.778,1.91,11.78,5.605,18.736,9.92C194.842,480.951,217.707,495,255.973,495s61.292-14.123,78.118-24.428c6.907-4.24,12.872-7.9,18.489-9.758,13.949-4.613,26.163-5.072,36.939-5.481,11.928-.459,23.187-.893,33.206-7.812a34.584,34.584,0,0,0,10.218-11.16c3.434-5.84,3.348-9.919,6.572-12.771a18.971,18.971,0,0,1,5.753-2.629A134.893,134.893,0,0,0,476.02,408.71a48.344,48.344,0,0,0,13.019-10.193l.124-.149C498.389,388.5,500.708,376.867,496.926,366.6Zm-34.013,18.277c-20.745,11.458-34.533,10.23-45.259,17.137-9.114,5.865-3.72,18.513-10.342,23.076-8.134,5.617-32.177-.4-63.239,9.858-25.618,8.469-41.961,32.822-88.038,32.822s-62.036-24.3-88.076-32.884c-31-10.255-55.092-4.241-63.239-9.858-6.609-4.563-1.24-17.211-10.341-23.076-10.739-6.907-24.527-5.679-45.26-17.075-13.206-7.291-5.716-11.8-1.314-13.937,75.143-36.381,87.133-92.552,87.666-96.719.645-5.046,1.364-9.014-4.191-14.148-5.369-4.96-29.189-19.7-35.8-24.316-10.937-7.638-15.748-15.264-12.2-24.638,2.48-6.485,8.531-8.928,14.879-8.928a27.643,27.643,0,0,1,5.965.67c12,2.6,23.659,8.617,30.392,10.242a10.749,10.749,0,0,0,2.48.335c3.6,0,4.86-1.811,4.612-5.927-.768-13.132-2.628-38.725-.558-62.644,2.84-32.909,13.442-49.215,26.04-63.636,6.051-6.932,34.484-36.976,88.857-36.976s82.88,29.92,88.931,36.827c12.611,14.421,23.225,30.727,26.04,63.636,2.071,23.919.285,49.525-.558,62.644-.285,4.327,1.017,5.927,4.613,5.927a10.648,10.648,0,0,0,2.48-.335c6.745-1.624,18.4-7.638,30.4-10.242a27.641,27.641,0,0,1,5.964-.67c6.386,0,12.4,2.48,14.88,8.928,3.546,9.374-1.24,17-12.189,24.639-6.609,4.612-30.429,19.343-35.8,24.315-5.568,5.134-4.836,9.1-4.191,14.149.533,4.228,12.511,60.4,87.666,96.718C468.629,373.011,476.119,377.524,462.913,384.877Z" /></svg>
        </a>
      </div>
    </div>
    <div class="gift-layout full">
      <div class="some-text">0 friends have joined! Invite friends to Join</div>
      <div class="timeline-group">
        <div class="timeline-headers">
          <div>Friends Joined</div>
          <div>Rewards</div>
        </div>
        <div class="timeline">
          <div class="timeline-progress">&nbsp;</div>
          <div class="timeline-items">
            {% assign products = block.settings.product_list %}
            {% for p in products %}
              <div class="timeline-item-block">
                <div
                  class="timeline-item"
                  onmouseenter="mouseenter(this)"
                  onmouseleave="mouseleave(this)">6<div class="timeline-item-detail" style="display: none;">Invite 6 friends to unlock this reward!</div>
                </div>
                <div
                  class="timeline-item-name"
                  onmouseenter="mouseenterproduct(this)"
                  onmouseleave="mouseleaveproduct(this)">{{ block.settings.icon | image_url: width: 50 | image_tag }}
                  <div class="timeline-contain" style="display: none;">
                    <span>{{ p.title }}</span>
                    <span>{{ p.featured_image | image_url: width: 50 | image_tag }}</span>
                  </div>
                </div>
              </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>

    {% comment %}End of Horizontal layout{% endcomment %}
    {% comment %}Start of Vertical layout{% endcomment %}
    {% when 'vertical' %}
    <div id='second-background-image' class="img-layout half">
      <div class="hidden">this div is hidden</div>
    </div>
    <div class="gift-layout half spaced-evenly">
      <div class="vertical spaced">
        <div class="preheader_text">{{ block.settings.preheader_text }}</div>
        <div class="header_text">{{ block.settings.header_text }}</div>
        <div class="subheader_text">{{ block.settings.subheader_text }}</div>
        <div id="referral-link"></div>
        <div class="socials"></div>
      </div>
      <div class="spaced some-text">0 friends have joined! Invite friends to Join</div>
      <div class="vertical-timeline-headers">
        <div>Friends Joined</div>
        <div>Rewards</div>
      </div>

      <div class="spaced vertical-timeline">
        <div class="vertical-timeline-progress">&nbsp;</div>
        <div class="vertical-timeline-items">
          {% assign products = block.settings.product_list %}
          {% for p in products %}
            <div>
              <div class="vertical-timeline-item-block">
                <div
                  class="vertical-timeline-item"
                  onmouseenter="mouseenter(this)"
                  onmouseleave="mouseleave(this)">6
                  <div class="vertical-timeline-item-detail" style="display: none;">Invite 6 friends to unlock this reward!</div>
                </div>
                <div
                  class="vertical-timeline-item-name"
                  onmouseenter="mouseenterproduct(this)"
                  onmouseleave="mouseleaveproduct(this)">{{ block.settings.icon | image_url: width: 50 | image_tag }}
                  <div class="vertical-timeline-contain" style="display: none;">
                    <span>{{ p.title }}</span>
                    <span>{{ p.featured_image | image_url: width: 50 | image_tag }}</span>
                  </div>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
    </div>

  {% endcase %}
  <div class="footer_text {% if block.settings.layout == 'vertical' %}right-side{% endif %}">
    {{ block.settings.footer_text }}</div>
</div>

<script>
  let link = encodeURI(window.location.href);
  let subject = 'Subject';
  let message = 'Hello there!';
  subject = encodeURIComponent(subject);
  encodedMessage = encodeURIComponent(message);

  function copyMessage() {
    let text = 'hi there this is to be copied...';
    navigator.clipboard.writeText(text);
    setTimeout(() => {
      const snapchat = document.querySelector('.snapchat');
      snapchat.href = "https://accounts.snapchat.com/accounts/login";
    }, 500)
  }
</script>